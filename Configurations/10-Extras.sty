%%% Document Extras %%%

% Capitalize the first letter in '\autoref' for both English and Portuguese.
\addto\extrasenglish{\def\figureautorefname{Figure}}
\addto\extrasenglish{\def\chapterautorefname{Chapter}}
\addto\extrasenglish{\def\sectionautorefname{Section}}
\addto\extrasenglish{\def\subsectionautorefname{Section}}
\addto\extrasenglish{\def\subsubsectionautorefname{Section}}
\addto\extrasenglish{\def\tableautorefname{Table}}
\addto\extrasenglish{\def\partautorefname{Part}}
\addto\extrasenglish{\def\appendixautorefname{Appendix}}
\addto\extrasportuguese{\def\sectionautorefname{Secção}}
\addto\extrasportuguese{\def\subsectionautorefname{Secção}}
\addto\extrasportuguese{\def\subsubsectionautorefname{Secção}}

% Abstract keywords.
\NewDocumentCommand{\keywordsen}{m}{\vspace{.4cm}\noindent\textbf{Keywords:} #1}
\NewDocumentCommand{\keywordspt}{m}{\vspace{.4cm}\noindent\textbf{Palavras-Chave:} #1}

% Hyperlink settings.
\hypersetup{
    bookmarksnumbered, % Enables the chapter and section numbers within the PDF bookmarks.
	colorlinks=true, % Enable colored text for links.
	urlcolor=darkred, % Color for \url and \href links.
	linkcolor=darkred, % Color for internal links (e.g., \nameref).
	citecolor=darkred, % Color for citation links.
}

% Add a "." after the number in the PDF bookmark.
\def\Hy@numberline#1{\ifHy@bookmarksnumbered{#1.\hspace{0.3em}}\else#1\fi}

% Landscape mode - the proper way!
\makeatletter
\def\ifGm@preamble#1{\@firstofone}
\appto\restoregeometry{%
    \pdfpagewidth=\paperwidth
    \pdfpageheight=\paperheight}
\apptocmd\newgeometry{%
    \pdfpagewidth=\paperwidth
    \pdfpageheight=\paperheight}{}{}
\makeatother

\newenvironment{landscapemode}[2]{%
    \newgeometry{paperwidth=#1,paperheight=#2,hmargin=3cm,vmargin=5cm,top=3cm,landscape}
    \fancyheadoffset{0pt}
    %\titlespacing*{\chapter}{0pt}{0pt}{40pt}
}{%
    \restoregeometry
    \fancyheadoffset{0pt}
}

% Define document colors.
\colorlet{darkred}{red!45!black}
\colorlet{chapterdarkred}{red!30!black}
\colorlet{chaptergray}{gray!80!white}
\definecolor{frontpagedark}{HTML}{1c1c1c}